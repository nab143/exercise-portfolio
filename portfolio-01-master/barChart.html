<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Nicole Barba's Exercise Portfolio: 2018 NFL Rushing</title>
    <link href="/css/barChart.css" rel="stylesheet" />
  </head>

  <body>

    <header>

      <h1>Nicole Barba : Exercise Portfolio</h1>

    </header>

    <div id="content">

      <nav>

          <a href = "/index.html"><b>Return to Home Page</b></a>

      </nav>

      <main>

        <h2>2018 NFL Rushing</h2>

        <p>This visualization shows...</p>

        <!-- ADD YOUR VISUALIZATION HERE -->

      </main>

    </div>

    <script src="js/d3.min.js"></script>

    <script>

      // width and height
			var w = 800;
			var h = 150;

			// import data
			d3.csv("data/nfl-rushing.csv").then(function(data) {

			  // bar chart svg
				var svg = d3.select("main").append("svg");

				// svg width and height
				svg.attr("width", w)
				   .attr("height", h);

				// selectAll rect
				svg.selectAll("rect")
				  	.data(data)
					.enter()
					.append("rect")
					.attr("x", function(d, i) {
						return (i * 14);
				   	})
				   	.attr("y", function(d) {
						return h - d.TD;
					})
					.attr("width", 10)
					.attr("height", function(d) {
						return d.TD;
					});

				// labels using parseName
				function parseName(player) {
					var name = player.split(" ");
					return name[0].charAt(0) + name[1].charAt(0)
				}

				// selectAll text
				var labels = svg.selectAll("text")
					 			.data(data)
					 			.enter()
					 			.append("text")
					 			.text(function(d) {
									return parseName(d.Player) + "-" + d.Team;
					 			})
								.style("font-size", "4px");

				// position labels
				labels.attr("x", function(d, i) {
					return (i * 14) + 1;
  				})
					.attr("y", function(d) {
						return (h - d.TD) + 4;
					});
			});

    </script>
  </body>
</html>
